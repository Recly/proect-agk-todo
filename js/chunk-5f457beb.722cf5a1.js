(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f457beb"],{"11d1":function(t,s,e){t.exports=e.p+"img/loading_white.fc893111.svg"},"28a1":function(t,s,e){"use strict";e("a4d8")},"56a2":function(t,s,e){},a4d8:function(t,s,e){},e014:function(t,s,e){"use strict";e("56a2")},eb1f:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"tasks"},[e("div",{staticClass:"tasks__create"},[e("h1",{staticClass:"tasks__title"},[t._v("Создать новую задачу")]),e("p",{staticClass:"tasks__subtitle"},[t._v("Для новой задачи придумайте заголовок, по желанию добавьте описание, укажите приоритет.")]),e("CreateTask")],1),e("div",{staticClass:"tasks__list"},[e("h1",{staticClass:"tasks__title"},[t._v("Список ваших задач")]),e("TasksList")],1)])])},a=[],r=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"create-task"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.task.title,expression:"task.title",modifiers:{trim:!0}}],staticClass:"create-task__name",attrs:{type:"text",placeholder:"Заголовок задачи"},domProps:{value:t.task.title},on:{input:function(s){s.target.composing||t.$set(t.task,"title",s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.task.desc,expression:"task.desc",modifiers:{trim:!0}}],staticClass:"create-task__desc",attrs:{placeholder:"Описание задачи (необязательно)"},domProps:{value:t.task.desc},on:{input:function(s){s.target.composing||t.$set(t.task,"desc",s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),i("div",{staticClass:"create-task__priority"},[i("p",{staticClass:"create-task__priority-title"},[t._v("Приоритет задачи:")]),i("div",{staticClass:"create-task__priority-list"},t._l(t.priority.list,(function(s,e){return i("button",{staticClass:"create-task__priority-button",class:{"create-task__priority-button_selected":e==t.priority.selectedIndex},on:{click:function(s){return t.setPriority(e)}}},[t._v(t._s(s))])})),0)]),i("button",{staticClass:"container__submit",class:{container__submit_disabled:t.loading},on:{click:t.createTask}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:e("11d1")}}),t._v(" "+t._s(t.loading?"Загрузка...":"Добавить задачу"))])])},n=[],c=e("5530"),o=(e("7db0"),e("d3b7"),{data:function(){return{task:{title:"",desc:""},priority:{list:["Низкий","Средний","Высокий"],selectedIndex:0},loading:!1}},computed:{taskList:function(){return this.$store.state.tasks.list}},methods:{setPriority:function(t){this.priority.selectedIndex=t},createTask:function(){var t=this;if(this.loading)return this.$toast.error("Подождите, идет загрузка...");if(!this.task.title)return this.$toast.error("Укажите заголовок задачи");if(this.task.title.length>=50||this.task.desc.length>=200)return this.$toast.error("Слишком большой текст задачи или ее описание");var s=this.taskList.find((function(s){var e=s.title;return e==t.task.title}));if(s)return this.$toast.error("Такая задача уже существует");this.loading=!0,this.$store.dispatch("createTask",Object(c["a"])(Object(c["a"])({},this.task),{},{completed:!1,priority:this.priority.list[this.priority.selectedIndex]})).then((function(){t.$toast.success("Задача добавлена"),t.task.title=t.task.desc="",t.priority.selectedIndex=0})).catch((function(s){return t.$toast.error(s)})).finally((function(){return t.loading=!1}))}}}),l=o,u=e("2877"),_=Object(u["a"])(l,r,n,!1,null,null,null),d=_.exports,k=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tasks-list"},[t.tasksList.length?t._e():e("p",{staticClass:"tasks-list__title"},[t._v("Список задач пуст.")]),e("div",{staticClass:"tasks-list__list"},[e("transition-group",{attrs:{name:"tasks-fade"}},t._l(t.tasksList,(function(s){return e("div",{key:s.title,staticClass:"task-item",class:{"task-item_completed":s.completed}},[e("div",{staticClass:"task-item__main-info"},[e("div",{staticClass:"task-item__info"},[e("h1",{staticClass:"task-item__title"},[t._v(t._s(s.title))]),e("p",{staticClass:"task-item__priority"},[e("i",{staticClass:"fas fa-thumbtack"}),t._v(" Приоритет задачи: "),e("span",{style:{color:t.priorityColors[s.priority]}},[t._v(t._s(s.priority))])]),e("p",{staticClass:"task-item__time"},[e("i",{staticClass:"far fa-clock"}),t._v(" Время добавления: "),e("span",[t._v(t._s(t.getTaskTime(s.time)))])]),s.desc?e("button",{staticClass:"task-item__show-desc",class:{"task-item__show-desc_visible":s.descVisible},on:{click:function(e){return t.showDesc(s)}}},[e("i",{staticClass:"fas fa-chevron-down"}),t._v(" Показать описание ")]):t._e(),s.descVisible?e("p",{staticClass:"task-item__desc"},[e("span",[t._v("Описание задачи:")]),t._v(" "+t._s(s.desc))]):t._e()]),e("div",{staticClass:"task-item__actions"},[s.completed?t._e():e("button",{staticClass:"task-item__btn task-item__btn_green",on:{click:function(e){return t.completeTask(s)}}},[e("i",{staticClass:"fas fa-check"})]),e("button",{staticClass:"task-item__btn task-item__btn_red",on:{click:function(e){return t.deleteTask(s)}}},[e("i",{staticClass:"fas fa-trash-alt"})])])])])})),0)],1)])},f=[],p=e("c1df"),m=e.n(p);m.a.locale("ru");var h={data:function(){return{priorityColors:{"Высокий":"#f13a3a","Средний":"#ec9615","Низкий":"#11a753"}}},methods:{showDesc:function(t){t.descVisible=!t.descVisible},getTaskTime:function(t){return m()(t).format("LLL")},completeTask:function(t){var s=this;this.$store.dispatch("completeTask",t.key).then((function(){return s.$toast('Задача "'.concat(t.title,'" выполнена'))})).catch((function(t){return s.$toast.error(t)}))},deleteTask:function(t){var s=this;this.$store.dispatch("deleteTask",t.key).then((function(){return s.$toast('Задача "'.concat(t.title,'" удалена'))})).catch((function(t){return s.$toast.error(t)}))}},computed:{tasksList:function(){return this.$store.state.tasks.list}}},v=h,C=(e("e014"),Object(u["a"])(v,k,f,!1,null,null,null)),b=C.exports,y={components:{CreateTask:d,TasksList:b}},g=y,$=(e("28a1"),Object(u["a"])(g,i,a,!1,null,null,null));s["default"]=$.exports}}]);
//# sourceMappingURL=chunk-5f457beb.722cf5a1.js.map